# Интеграция Rolldown

Vite планирует интегрировать [Rolldown](https://rolldown.rs), JavaScript бандлер на Rust, для улучшения производительности сборки и возможностей.

## Что такое Rolldown?

Rolldown - это современный, высокопроизводительный JavaScript бандлер, написанный на Rust. Он разработан как прямая замена Rollup, стремясь обеспечить значительное улучшение производительности при сохранении совместимости с существующей экосистемой.

Rolldown фокусируется на трех ключевых принципах:

- **Скорость**: Построен на Rust для максимальной производительности
- **Совместимость**: Работает с существующими плагинами Rollup
- **Опыт разработчика**: Знакомый API для пользователей Rollup

## Почему Vite переходит на Rolldown

1. **Унификация**: Vite в настоящее время использует esbuild для предварительной бандлинга зависимостей и Rollup для production сборок. Rolldown стремится объединить их в один высокопроизводительный бандлер, который можно использовать для обоих целей, уменьшая сложность.

2. **Производительность**: Реализация Rolldown на Rust предлагает значительное улучшение производительности по сравнению с JavaScript-бандлерами. Хотя конкретные бенчмарки могут варьироваться в зависимости от размера и сложности проекта, ранние тесты показывают многообещающее увеличение скорости по сравнению с Rollup.

Для дополнительной информации о мотивации создания Rolldown, см. [причины, почему создается Rolldown](https://rolldown.rs/guide/#why-rolldown).

## Преимущества использования `rolldown-vite`

- Испытать значительно более быструю сборку, особенно для больших проектов
- Предоставить ценный отзыв, чтобы помочь сформировать будущее процесса бандлинга Vite
- Подготовить ваши проекты к будущей официальной интеграции Rolldown

## Как попробовать Rolldown

Версия Vite на Rolldown в настоящее время доступна как отдельный пакет под названием `rolldown-vite`. Вы можете попробовать его, добавив переопределения пакетов в ваш `package.json`:

:::code-group

```json [npm]
{
  "overrides": {
    "vite": "npm:rolldown-vite@latest"
  }
}
```

```json [Yarn]
{
  "resolutions": {
    "vite": "npm:rolldown-vite@latest"
  }
}
```

```json [pnpm]
{
  "pnpm": {
    "overrides": {
      "vite": "npm:rolldown-vite@latest"
    }
  }
}
```

```json [Bun]
{
  "overrides": {
    "vite": "npm:rolldown-vite@latest"
  }
}
```

:::

После добавления этих переопределений переустановите ваши зависимости и запустите сервер разработки или соберите проект как обычно. Дополнительных изменений конфигурации не требуется.

## Известные ограничения

Хотя Rolldown стремится быть прямой заменой Rollup, есть функции, которые все еще реализуются, и небольшие намеренные различия в поведении. Для полного списка, пожалуйста, обратитесь к [этому PR на GitHub](https://github.com/vitejs/rolldown-vite/pull/84#issue-2903144667), который регулярно обновляется.

## Сообщение о проблемах

Поскольку это экспериментальная интеграция, вы можете столкнуться с проблемами. Если это произойдет, пожалуйста, сообщите о них в репозитории [`vitejs/rolldown-vite`](https://github.com/vitejs/rolldown-vite), **а не в основном репозитории Vite**.

При [сообщении о проблемах](https://github.com/vitejs/rolldown-vite/issues/new), пожалуйста, следуйте шаблону проблемы и предоставьте:

- Минимальное воспроизведение проблемы
- Детали вашего окружения (ОС, версия Node, менеджер пакетов)
- Любые релевантные сообщения об ошибках или логи

Для обсуждений в реальном времени и устранения неполадок обязательно присоединяйтесь к [Discord Rolldown](https://chat.rolldown.rs/).

## Планы на будущее

Пакет `rolldown-vite` - это временное решение для сбора отзывов и стабилизации интеграции Rolldown. В будущем эта функциональность будет объединена обратно в основной репозиторий Vite.

Мы призываем вас попробовать `rolldown-vite` и внести свой вклад в его разработку через отзывы и сообщения о проблемах.
